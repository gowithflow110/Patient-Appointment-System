<mat-card class="appointment-card">
  <div class="content">
    <div class="form-panel">
      <h3>Book an Appointment</h3>
      <form (ngSubmit)="onBook(bookingForm)" #bookingForm="ngForm">

        <!-- Patient Name -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Patient Name</mat-label>
          <input matInput name="name" [(ngModel)]="booking.name" required />
        </mat-form-field>

        <!-- Gender -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Gender</mat-label>
          <mat-select name="gender" [(ngModel)]="booking.gender" required>
            <mat-option value="Male">Male</mat-option>
            <mat-option value="Female">Female</mat-option>
            <mat-option value="Other">Other</mat-option>
          </mat-select>
        </mat-form-field>

        <!-- Date of Birth -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Date of Birth</mat-label>
          <input matInput [matDatepicker]="dobPicker" name="dob" [(ngModel)]="booking.dob" required />
          <mat-datepicker-toggle matSuffix [for]="dobPicker"></mat-datepicker-toggle>
          <mat-datepicker #dobPicker></mat-datepicker>
        </mat-form-field>

        <!-- Address -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Address</mat-label>
          <textarea matInput name="address" [(ngModel)]="booking.address" rows="3" required></textarea>
        </mat-form-field>

        <!-- Email -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Email</mat-label>
          <input matInput type="email" name="email" [(ngModel)]="booking.email" required email />
        </mat-form-field>

        <!-- Phone Number -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Phone Number</mat-label>
          <input matInput type="tel" name="phone" [(ngModel)]="booking.phone" required />
        </mat-form-field>

        <!-- Department -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Select Department</mat-label>
          <mat-select name="department" [(ngModel)]="booking.department" required>
            <mat-option *ngFor="let dep of departments" [value]="dep">{{dep}}</mat-option>
          </mat-select>
        </mat-form-field>

        <!-- Doctor -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Select Doctor</mat-label>
          <mat-select name="doctor" [(ngModel)]="booking.doctor" required>
            <mat-option *ngFor="let doc of doctors" [value]="doc">{{doc.name}}</mat-option>
          </mat-select>
        </mat-form-field>

        <!-- Preferred Date -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Preferred Date</mat-label>
          <input matInput [matDatepicker]="picker" name="date" [(ngModel)]="booking.date" required />
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>

        <button mat-raised-button color="primary" class="book-btn" [disabled]="!bookingForm.valid">Book Appointment</button>
      </form>
    </div>

    <div class="calendar-panel">
      <h4>Available Slots</h4>
      <!-- Placeholder for calendar -->
      <div class="calendar-placeholder">
        <!-- Use FullCalendar or Angular scheduler here -->
       <schedule-availability [doctor]="booking.doctor || ''" [date]="booking.date"></schedule-availability>

      </div>
    </div>
  </div>
</mat-card>
